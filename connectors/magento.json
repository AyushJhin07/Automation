{
  "id": "magento",
  "name": "Magento",
  "description": "E-commerce platform for creating online stores and marketplaces",
  "category": "E-commerce",
  "icon": "magento",
  "color": "#EE672F",
  "version": "1.0.0",
  "authentication": {
    "type": "api_key",
    "config": {
      "apiKeyLocation": "header",
      "apiKeyName": "Authorization",
      "apiKeyValue": "Bearer {api_key}"
    }
  },
  "baseUrl": "https://{domain}/rest/V1",
  "actions": [
    {
      "id": "test_connection",
      "name": "Test Connection",
      "description": "Test the connection to Magento",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "create_product",
      "name": "Create Product",
      "description": "Create a new product",
      "parameters": {
        "type": "object",
        "properties": {
          "product": {
            "type": "object",
            "properties": {
              "sku": {
                "type": "string",
                "description": "Product SKU"
              },
              "name": {
                "type": "string",
                "description": "Product name"
              },
              "attribute_set_id": {
                "type": "number",
                "description": "Attribute set ID"
              },
              "price": {
                "type": "number",
                "description": "Product price"
              },
              "status": {
                "type": "number",
                "enum": [1, 2],
                "description": "Product status (1=enabled, 2=disabled)"
              },
              "visibility": {
                "type": "number",
                "enum": [1, 2, 3, 4],
                "description": "Product visibility"
              },
              "type_id": {
                "type": "string",
                "enum": ["simple", "configurable", "grouped", "virtual", "bundle", "downloadable"],
                "description": "Product type"
              },
              "weight": {
                "type": "number",
                "description": "Product weight"
              },
              "extension_attributes": {
                "type": "object",
                "properties": {
                  "website_ids": {
                    "type": "array",
                    "items": {"type": "number"}
                  },
                  "category_links": {
                    "type": "array",
                    "items": {"type": "object"}
                  },
                  "stock_item": {
                    "type": "object",
                    "properties": {
                      "qty": {"type": "number"},
                      "is_in_stock": {"type": "boolean"}
                    },
                    "additionalProperties": false
                  }
                },
                "additionalProperties": false
              },
              "custom_attributes": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "attribute_code": {"type": "string"},
                    "value": {"type": "string"}
                  },
                  "additionalProperties": false
                }
              }
            },
            "required": ["sku", "name", "attribute_set_id", "price", "status", "type_id"],
            "additionalProperties": false
          }
        },
        "required": ["product"],
        "additionalProperties": false
      }
    },
    {
      "id": "get_product",
      "name": "Get Product",
      "description": "Get product details by SKU",
      "parameters": {
        "type": "object",
        "properties": {
          "sku": {
            "type": "string",
            "description": "Product SKU"
          },
          "editMode": {
            "type": "boolean",
            "description": "Whether to retrieve product in edit mode"
          },
          "storeId": {
            "type": "number",
            "description": "Store ID"
          },
          "forceReload": {
            "type": "boolean",
            "description": "Whether to force reload"
          }
        },
        "required": ["sku"],
        "additionalProperties": false
      }
    },
    {
      "id": "update_product",
      "name": "Update Product",
      "description": "Update an existing product",
      "parameters": {
        "type": "object",
        "properties": {
          "sku": {
            "type": "string",
            "description": "Product SKU"
          },
          "product": {
            "type": "object",
            "properties": {
              "name": {"type": "string"},
              "price": {"type": "number"},
              "status": {"type": "number", "enum": [1, 2]},
              "visibility": {"type": "number", "enum": [1, 2, 3, 4]},
              "weight": {"type": "number"},
              "custom_attributes": {"type": "array"}
            },
            "additionalProperties": false
          },
          "saveOptions": {
            "type": "boolean",
            "description": "Whether to save options"
          }
        },
        "required": ["sku", "product"],
        "additionalProperties": false
      }
    },
    {
      "id": "delete_product",
      "name": "Delete Product",
      "description": "Delete a product by SKU",
      "parameters": {
        "type": "object",
        "properties": {
          "sku": {
            "type": "string",
            "description": "Product SKU"
          }
        },
        "required": ["sku"],
        "additionalProperties": false
      }
    },
    {
      "id": "search_products",
      "name": "Search Products",
      "description": "Search for products",
      "parameters": {
        "type": "object",
        "properties": {
          "searchCriteria": {
            "type": "object",
            "properties": {
              "filterGroups": {
                "type": "array",
                "items": {"type": "object"}
              },
              "sortOrders": {
                "type": "array",
                "items": {"type": "object"}
              },
              "pageSize": {"type": "number", "minimum": 1},
              "currentPage": {"type": "number", "minimum": 1}
            },
            "additionalProperties": false
          }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "create_order",
      "name": "Create Order",
      "description": "Create a new order",
      "parameters": {
        "type": "object",
        "properties": {
          "entity": {
            "type": "object",
            "properties": {
              "customer_email": {"type": "string", "format": "email"},
              "customer_firstname": {"type": "string"},
              "customer_lastname": {"type": "string"},
              "billing_address": {"type": "object"},
              "items": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "sku": {"type": "string"},
                    "qty": {"type": "number", "minimum": 1},
                    "price": {"type": "number"}
                  },
                  "required": ["sku", "qty"],
                  "additionalProperties": false
                }
              }
            },
            "required": ["customer_email", "items"],
            "additionalProperties": false
          }
        },
        "required": ["entity"],
        "additionalProperties": false
      }
    },
    {
      "id": "get_order",
      "name": "Get Order",
      "description": "Get order details",
      "parameters": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "Order ID"
          }
        },
        "required": ["id"],
        "additionalProperties": false
      }
    },
    {
      "id": "create_customer",
      "name": "Create Customer",
      "description": "Create a new customer",
      "parameters": {
        "type": "object",
        "properties": {
          "customer": {
            "type": "object",
            "properties": {
              "email": {"type": "string", "format": "email"},
              "firstname": {"type": "string"},
              "lastname": {"type": "string"},
              "store_id": {"type": "number"},
              "website_id": {"type": "number"},
              "addresses": {
                "type": "array",
                "items": {"type": "object"}
              }
            },
            "required": ["email", "firstname", "lastname"],
            "additionalProperties": false
          },
          "password": {
            "type": "string",
            "description": "Customer password"
          },
          "redirectUrl": {
            "type": "string",
            "description": "Redirect URL after creation"
          }
        },
        "required": ["customer"],
        "additionalProperties": false
      }
    }
  ],
  "triggers": [
    {
      "id": "product_created",
      "name": "Product Created",
      "description": "Triggered when a new product is created",
      "type": "webhook",
      "parameters": {
        "type": "object",
        "properties": {
          "store_id": {
            "type": "number",
            "description": "Filter by store ID"
          }
        },
        "required": [],
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "id": {"type": "number"},
          "sku": {"type": "string"},
          "name": {"type": "string"},
          "attribute_set_id": {"type": "number"},
          "price": {"type": "number"},
          "status": {"type": "number"},
          "visibility": {"type": "number"},
          "type_id": {"type": "string"},
          "created_at": {"type": "string"}
        }
      }
    },
    {
      "id": "order_created",
      "name": "Order Created",
      "description": "Triggered when a new order is created",
      "type": "webhook",
      "parameters": {
        "type": "object",
        "properties": {
          "store_id": {
            "type": "number",
            "description": "Filter by store ID"
          }
        },
        "required": [],
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "entity_id": {"type": "number"},
          "increment_id": {"type": "string"},
          "customer_email": {"type": "string"},
          "customer_firstname": {"type": "string"},
          "customer_lastname": {"type": "string"},
          "grand_total": {"type": "number"},
          "status": {"type": "string"},
          "created_at": {"type": "string"}
        }
      }
    }
  ],
  "testConnection": {
    "method": "GET",
    "endpoint": "/modules"
  }
}