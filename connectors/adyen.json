{
  "id": "adyen",
  "name": "Adyen",
  "description": "Adyen global payment processing platform",
  "category": "Payments",
  "icon": "adyen",
  "color": "#0ABF53",
  "version": "1.0.0",
  "authentication": {
    "type": "api_key",
    "config": {
      "type": "header",
      "name": "X-API-Key"
    }
  },
  "baseUrl": "https://checkout-test.adyen.com/v71",
  "actions": [
    {
      "id": "test_connection",
      "name": "Test Connection",
      "description": "Test the connection to Adyen",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "create_payment",
      "name": "Create Payment",
      "description": "Create a payment",
      "parameters": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "object",
            "properties": {
              "value": {"type": "number"},
              "currency": {"type": "string"}
            },
            "required": ["value", "currency"],
            "description": "Payment amount"
          },
          "reference": {
            "type": "string",
            "description": "Payment reference"
          },
          "paymentMethod": {
            "type": "object",
            "description": "Payment method details"
          },
          "returnUrl": {
            "type": "string",
            "format": "uri",
            "description": "Return URL"
          },
          "merchantAccount": {
            "type": "string",
            "description": "Merchant account"
          },
          "shopperReference": {
            "type": "string",
            "description": "Shopper reference"
          },
          "shopperEmail": {
            "type": "string",
            "format": "email",
            "description": "Shopper email"
          }
        },
        "required": ["amount", "reference", "paymentMethod", "returnUrl", "merchantAccount"],
        "additionalProperties": false
      }
    },
    {
      "id": "capture_payment",
      "name": "Capture Payment",
      "description": "Capture an authorized payment",
      "parameters": {
        "type": "object",
        "properties": {
          "originalReference": {
            "type": "string",
            "description": "Original payment reference"
          },
          "modificationAmount": {
            "type": "object",
            "properties": {
              "value": {"type": "number"},
              "currency": {"type": "string"}
            },
            "description": "Amount to capture"
          },
          "reference": {
            "type": "string",
            "description": "Capture reference"
          },
          "merchantAccount": {
            "type": "string",
            "description": "Merchant account"
          }
        },
        "required": ["originalReference", "modificationAmount", "reference", "merchantAccount"],
        "additionalProperties": false
      }
    },
    {
      "id": "refund_payment",
      "name": "Refund Payment",
      "description": "Refund a payment",
      "parameters": {
        "type": "object",
        "properties": {
          "originalReference": {
            "type": "string",
            "description": "Original payment reference"
          },
          "modificationAmount": {
            "type": "object",
            "properties": {
              "value": {"type": "number"},
              "currency": {"type": "string"}
            },
            "description": "Amount to refund"
          },
          "reference": {
            "type": "string",
            "description": "Refund reference"
          },
          "merchantAccount": {
            "type": "string",
            "description": "Merchant account"
          }
        },
        "required": ["originalReference", "modificationAmount", "reference", "merchantAccount"],
        "additionalProperties": false
      }
    }
  ],
  "triggers": [
    {
      "id": "payment_notification",
      "name": "Payment Notification",
      "description": "Triggered when a payment status changes",
      "type": "webhook",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": [],
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "pspReference": {"type": "string"},
          "originalReference": {"type": "string"},
          "merchantReference": {"type": "string"},
          "eventCode": {"type": "string"},
          "success": {"type": "string"}
        }
      }
    }
  ],
  "testConnection": {
    "method": "POST",
    "endpoint": "/paymentMethods"
  }
}