{
  "id": "google-drive",
  "name": "Google Drive",
  "description": "Manage files and folders stored in Google Drive",
  "category": "File Storage",
  "icon": "google-drive",
  "color": "#0F9D58",
  "authentication": {
    "type": "oauth2",
    "config": {
      "authUrl": "https://accounts.google.com/o/oauth2/v2/auth",
      "tokenUrl": "https://oauth2.googleapis.com/token",
      "scopes": [
        "https://www.googleapis.com/auth/drive"
      ]
    }
  },
  "baseUrl": "https://www.googleapis.com/drive/v3",
  "testConnection": {
    "endpoint": "/about",
    "method": "GET"
  },
  "actions": [
    {
      "id": "list_files",
      "name": "List Files",
      "description": "List files in Drive",
      "endpoint": "/files",
      "method": "GET",
      "parameters": {
        "type": "object",
        "properties": {
          "q": { "type": "string" },
          "pageSize": {
            "type": "number",
            "default": 50,
            "minimum": 1,
            "maximum": 1000
          },
          "pageToken": { "type": "string" },
          "orderBy": { "type": "string" },
          "fields": {
            "type": "string",
            "default": "files(id,name,mimeType,modifiedTime),nextPageToken"
          }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "get_file",
      "name": "Get File",
      "description": "Get file metadata",
      "endpoint": "/files/{fileId}",
      "method": "GET",
      "parameters": {
        "type": "object",
        "properties": {
          "fileId": { "type": "string" },
          "fields": { "type": "string" }
        },
        "required": ["fileId"],
        "additionalProperties": false
      }
    },
    {
      "id": "create_folder",
      "name": "Create Folder",
      "description": "Create a new folder",
      "endpoint": "/files",
      "method": "POST",
      "parameters": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "parents": {
            "type": "array",
            "items": { "type": "string" }
          }
        },
        "required": ["name"],
        "additionalProperties": false
      }
    },
    {
      "id": "copy_file",
      "name": "Copy File",
      "description": "Copy an existing file",
      "endpoint": "/files/{fileId}/copy",
      "method": "POST",
      "parameters": {
        "type": "object",
        "properties": {
          "fileId": { "type": "string" },
          "name": { "type": "string" },
          "parents": {
            "type": "array",
            "items": { "type": "string" }
          }
        },
        "required": ["fileId"],
        "additionalProperties": false
      }
    },
    {
      "id": "delete_file",
      "name": "Delete File",
      "description": "Delete a file",
      "endpoint": "/files/{fileId}",
      "method": "DELETE",
      "parameters": {
        "type": "object",
        "properties": {
          "fileId": { "type": "string" }
        },
        "required": ["fileId"],
        "additionalProperties": false
      }
    }
  ],
  "triggers": [
    {
      "id": "file_created",
      "name": "File Created",
      "description": "Triggered when a new file is created",
      "type": "webhook",
      "parameters": {
        "type": "object",
        "properties": {
          "folderId": { "type": "string" }
        },
        "required": [],
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "name": { "type": "string" },
          "mimeType": { "type": "string" }
        }
      }
    }
  ]
}
