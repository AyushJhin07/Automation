{
  "id": "stripe",
  "name": "Stripe",
  "description": "Automate billing workflows with the Stripe API",
  "category": "Finance",
  "icon": "stripe",
  "color": "#635BFF",
  "authentication": {
    "type": "api_key",
    "config": {
      "header": "Authorization",
      "prefix": "Bearer "
    }
  },
  "baseUrl": "https://api.stripe.com/v1",
  "testConnection": {
    "endpoint": "/charges",
    "method": "GET"
  },
  "actions": [
    {
      "id": "create_customer",
      "name": "Create Customer",
      "description": "Create a new customer",
      "endpoint": "/customers",
      "method": "POST",
      "parameters": {
        "type": "object",
        "properties": {
          "email": { "type": "string" },
          "name": { "type": "string" },
          "description": { "type": "string" }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "create_charge",
      "name": "Create Charge",
      "description": "Create a charge",
      "endpoint": "/charges",
      "method": "POST",
      "parameters": {
        "type": "object",
        "properties": {
          "amount": { "type": "number" },
          "currency": { "type": "string", "default": "usd" },
          "customer": { "type": "string" },
          "source": { "type": "string" },
          "description": { "type": "string" }
        },
        "required": ["amount", "currency"],
        "additionalProperties": false
      }
    },
    {
      "id": "list_charges",
      "name": "List Charges",
      "description": "List recent charges",
      "endpoint": "/charges",
      "method": "GET",
      "parameters": {
        "type": "object",
        "properties": {
          "limit": { "type": "number", "default": 10, "minimum": 1, "maximum": 100 },
          "customer": { "type": "string" },
          "starting_after": { "type": "string" }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "retrieve_customer",
      "name": "Retrieve Customer",
      "description": "Get details for a customer",
      "endpoint": "/customers/{customer}",
      "method": "GET",
      "parameters": {
        "type": "object",
        "properties": {
          "customer": { "type": "string" }
        },
        "required": ["customer"],
        "additionalProperties": false
      }
    },
    {
      "id": "create_refund",
      "name": "Create Refund",
      "description": "Create a refund for a charge",
      "endpoint": "/refunds",
      "method": "POST",
      "parameters": {
        "type": "object",
        "properties": {
          "charge": { "type": "string" },
          "amount": { "type": "number" }
        },
        "required": ["charge"],
        "additionalProperties": false
      }
    }
  ],
  "triggers": [
    {
      "id": "invoice_paid",
      "name": "Invoice Paid",
      "description": "Triggered when an invoice is paid",
      "type": "webhook",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": [],
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "status": { "type": "string" },
          "customer": { "type": "string" }
        }
      }
    }
  ]
}
