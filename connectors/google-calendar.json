{
  "id": "google-calendar",
  "name": "Google Calendar",
  "description": "Create and manage events in Google Calendar",
  "category": "Productivity",
  "icon": "google-calendar",
  "color": "#4285F4",
  "authentication": {
    "type": "oauth2",
    "config": {
      "authUrl": "https://accounts.google.com/o/oauth2/v2/auth",
      "tokenUrl": "https://oauth2.googleapis.com/token",
      "scopes": [
        "https://www.googleapis.com/auth/calendar"
      ]
    }
  },
  "baseUrl": "https://www.googleapis.com/calendar/v3",
  "testConnection": {
    "endpoint": "/users/me/calendarList",
    "method": "GET"
  },
  "actions": [
    {
      "id": "list_calendars",
      "name": "List Calendars",
      "description": "List calendars available for the authenticated user",
      "endpoint": "/users/me/calendarList",
      "method": "GET",
      "parameters": {
        "type": "object",
        "properties": {
          "minAccessRole": {
            "type": "string",
            "enum": ["freeBusyReader", "reader", "writer", "owner"]
          },
          "pageToken": {
            "type": "string"
          },
          "maxResults": {
            "type": "number",
            "default": 25,
            "minimum": 1,
            "maximum": 250
          }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "list_events",
      "name": "List Events",
      "description": "List events on a calendar",
      "endpoint": "/calendars/{calendarId}/events",
      "method": "GET",
      "parameters": {
        "type": "object",
        "properties": {
          "calendarId": {
            "type": "string",
            "description": "Calendar ID (use 'primary' for main calendar)",
            "default": "primary"
          },
          "timeMin": { "type": "string" },
          "timeMax": { "type": "string" },
          "singleEvents": {
            "type": "boolean",
            "default": true
          },
          "orderBy": {
            "type": "string",
            "enum": ["startTime", "updated"]
          },
          "maxResults": {
            "type": "number",
            "default": 100,
            "minimum": 1,
            "maximum": 2500
          }
        },
        "required": ["calendarId"],
        "additionalProperties": false
      }
    },
    {
      "id": "create_event",
      "name": "Create Event",
      "description": "Create a new event",
      "endpoint": "/calendars/{calendarId}/events",
      "method": "POST",
      "parameters": {
        "type": "object",
        "properties": {
          "calendarId": {
            "type": "string",
            "default": "primary"
          },
          "summary": { "type": "string" },
          "description": { "type": "string" },
          "start": {
            "type": "object",
            "properties": {
              "dateTime": { "type": "string" },
              "timeZone": { "type": "string" }
            },
            "required": ["dateTime"],
            "additionalProperties": false
          },
          "end": {
            "type": "object",
            "properties": {
              "dateTime": { "type": "string" },
              "timeZone": { "type": "string" }
            },
            "required": ["dateTime"],
            "additionalProperties": false
          },
          "attendees": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "email": { "type": "string" }
              },
              "required": ["email"],
              "additionalProperties": false
            }
          }
        },
        "required": ["calendarId", "summary", "start", "end"],
        "additionalProperties": false
      }
    },
    {
      "id": "update_event",
      "name": "Update Event",
      "description": "Update an existing event",
      "endpoint": "/calendars/{calendarId}/events/{eventId}",
      "method": "PATCH",
      "parameters": {
        "type": "object",
        "properties": {
          "calendarId": {
            "type": "string",
            "default": "primary"
          },
          "eventId": { "type": "string" },
          "summary": { "type": "string" },
          "description": { "type": "string" },
          "start": {
            "type": "object",
            "properties": {
              "dateTime": { "type": "string" },
              "timeZone": { "type": "string" }
            },
            "additionalProperties": false
          },
          "end": {
            "type": "object",
            "properties": {
              "dateTime": { "type": "string" },
              "timeZone": { "type": "string" }
            },
            "additionalProperties": false
          }
        },
        "required": ["calendarId", "eventId"],
        "additionalProperties": false
      }
    },
    {
      "id": "delete_event",
      "name": "Delete Event",
      "description": "Delete an event",
      "endpoint": "/calendars/{calendarId}/events/{eventId}",
      "method": "DELETE",
      "parameters": {
        "type": "object",
        "properties": {
          "calendarId": {
            "type": "string",
            "default": "primary"
          },
          "eventId": { "type": "string" }
        },
        "required": ["calendarId", "eventId"],
        "additionalProperties": false
      }
    }
  ],
  "triggers": [
    {
      "id": "event_created",
      "name": "Event Created",
      "description": "Triggered when a new event is created",
      "type": "webhook",
      "parameters": {
        "type": "object",
        "properties": {
          "calendarId": {
            "type": "string",
            "default": "primary"
          }
        },
        "required": ["calendarId"],
        "additionalProperties": false
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "summary": { "type": "string" },
          "start": { "type": "object" },
          "end": { "type": "object" }
        }
      }
    }
  ]
}
