{
  "id": "gmail",
  "name": "Gmail",
  "description": "Google Gmail email service for sending, receiving, and managing emails",
  "category": "Communication",
  "icon": "mail",
  "color": "#EA4335",
  "availability": "stable",
  "version": "1.0.0",
  "authentication": {
    "type": "oauth2",
    "config": {
      "authUrl": "https://accounts.google.com/o/oauth2/auth",
      "tokenUrl": "https://oauth2.googleapis.com/token",
      "scopes": [
        "https://www.googleapis.com/auth/gmail.readonly",
        "https://www.googleapis.com/auth/gmail.send",
        "https://www.googleapis.com/auth/gmail.compose",
        "https://www.googleapis.com/auth/gmail.modify",
        "openid",
        "email",
        "profile"
      ]
    }
  },
  "baseUrl": "https://www.googleapis.com/gmail/v1",
  "rateLimits": {
    "requestsPerSecond": 5,
    "requestsPerMinute": 250,
    "dailyLimit": 1000000000
  },
  "actions": [
    {
      "id": "test_connection",
      "name": "Test Connection",
      "description": "Test the connection to Gmail and verify authentication",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "send_email",
      "name": "Send Email",
      "description": "Send an email message",
      "parameters": {
        "type": "object",
        "properties": {
          "to": {
            "type": "string",
            "description": "Recipient email address"
          },
          "subject": {
            "type": "string",
            "description": "Email subject"
          },
          "body": {
            "type": "string",
            "description": "Email body content"
          },
          "cc": {
            "type": "string",
            "description": "CC email addresses (comma-separated)"
          },
          "bcc": {
            "type": "string",
            "description": "BCC email addresses (comma-separated)"
          },
          "attachments": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "filename": {
                  "type": "string"
                },
                "content": {
                  "type": "string"
                }
              }
            },
            "description": "Email attachments"
          }
        },
        "required": ["to", "subject", "body"],
        "additionalProperties": false
      }
    },
    {
      "id": "search_emails",
      "name": "Search Emails",
      "description": "Search for emails matching specified criteria",
      "parameters": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "Gmail search query (e.g., 'from:example@gmail.com', 'is:unread')"
          },
          "maxResults": {
            "type": "number",
            "default": 10,
            "minimum": 1,
            "maximum": 500,
            "description": "Maximum number of emails to return"
          },
          "includeSpamTrash": {
            "type": "boolean",
            "default": false,
            "description": "Include emails from spam and trash"
          }
        },
        "required": ["query"],
        "additionalProperties": false
      }
    },
    {
      "id": "get_email",
      "name": "Get Email",
      "description": "Get details of a specific email by ID",
      "parameters": {
        "type": "object",
        "properties": {
          "messageId": {
            "type": "string",
            "description": "Gmail message ID"
          },
          "format": {
            "type": "string",
            "enum": ["minimal", "full", "raw", "metadata"],
            "default": "full",
            "description": "Format of the email data to return"
          }
        },
        "required": ["messageId"],
        "additionalProperties": false
      }
    },
    {
      "id": "send_reply",
      "name": "Send Reply",
      "description": "Reply to an existing email",
      "parameters": {
        "type": "object",
        "properties": {
          "messageId": {
            "type": "string",
            "description": "ID of the message to reply to"
          },
          "body": {
            "type": "string",
            "description": "Reply body content"
          },
          "replyAll": {
            "type": "boolean",
            "default": false,
            "description": "Whether to reply to all recipients"
          }
        },
        "required": ["messageId", "body"],
        "additionalProperties": false
      }
    },
    {
      "id": "mark_as_read",
      "name": "Mark as Read",
      "description": "Mark emails as read",
      "parameters": {
        "type": "object",
        "properties": {
          "messageIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of Gmail message IDs to mark as read"
          }
        },
        "required": ["messageIds"],
        "additionalProperties": false
      }
    },
    {
      "id": "add_label",
      "name": "Add Label",
      "description": "Add labels to emails",
      "parameters": {
        "type": "object",
        "properties": {
          "messageIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of Gmail message IDs"
          },
          "labelIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of label IDs to add"
          }
        },
        "required": ["messageIds", "labelIds"],
        "additionalProperties": false
      }
    }
  ],
  "triggers": [
    {
      "id": "new_email_received",
      "name": "New Email Received",
      "description": "Triggered when a new email is received",
      "parameters": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "Gmail query to filter emails (e.g., 'from:example@gmail.com', 'has:attachment')",
            "default": "is:unread"
          },
          "labelIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Filter by specific label IDs"
          }
        },
        "required": [],
        "additionalProperties": false
      }
    },
    {
      "id": "email_received_from",
      "name": "Email Received From",
      "description": "Triggered when an email is received from a specific sender",
      "parameters": {
        "type": "object",
        "properties": {
          "fromEmail": {
            "type": "string",
            "description": "Email address to monitor for incoming emails"
          },
          "subject": {
            "type": "string",
            "description": "Optional subject filter"
          }
        },
        "required": ["fromEmail"],
        "additionalProperties": false
      }
    },
    {
      "id": "email_with_attachment",
      "name": "Email with Attachment",
      "description": "Triggered when an email with attachments is received",
      "parameters": {
        "type": "object",
        "properties": {
          "fileTypes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Filter by specific file types (e.g., ['pdf', 'xlsx'])"
          },
          "fromEmail": {
            "type": "string",
            "description": "Optional sender filter"
          }
        },
        "required": [],
        "additionalProperties": false
      }
    }
  ]
}